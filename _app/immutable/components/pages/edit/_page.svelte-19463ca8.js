import{S as me,i as pe,s as ve,W as ge,X as be,k as v,e as Y,a as W,q as Z,v as ae,l as g,m as b,h as d,c as X,r as A,w as te,n as k,Y as we,p as M,b as q,C as h,Z as le,x as se,D as ie,_ as ke,f as re,t as oe,y as ne,$ as Ee,H as ce,M as Ie,u as Ve,a0 as De}from"../../../chunks/index-a045c4c7.js";import{M as $e}from"../../../chunks/Markdown-2e12cdec.js";import{C as ye}from"../../../chunks/CodeMirror-4c7a1acd.js";import{g as Se}from"../../../chunks/navigation-c5304763.js";import{p as Ce}from"../../../chunks/stores-97e64e0a.js";import{g as Me}from"../../../chunks/data-e67ef7cc.js";import{b as Oe}from"../../../chunks/paths-7e180b47.js";function fe(r,e,i){const t=r.slice();return t[7]=e[i],t}function de(r){let e,i;return{c(){e=v("option"),i=Z("Select a file to edit"),this.h()},l(t){e=g(t,"OPTION",{});var n=b(e);i=A(n,"Select a file to edit"),n.forEach(d),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="Select a file to edit",e.value=e.__value},m(t,n){q(t,e,n),h(e,i)},d(t){t&&d(e)}}}function _e(r){var n;let e,i=(n=r[2])==null?void 0:n.articles,t=[];for(let a=0;a<i.length;a+=1)t[a]=ue(fe(r,i,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=Y()},l(a){for(let s=0;s<t.length;s+=1)t[s].l(a);e=Y()},m(a,s){for(let f=0;f<t.length;f+=1)t[f].m(a,s);q(a,e,s)},p(a,s){var f;if(s&4){i=(f=a[2])==null?void 0:f.articles;let o;for(o=0;o<i.length;o+=1){const E=fe(a,i,o);t[o]?t[o].p(E,s):(t[o]=ue(E),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=i.length}},d(a){Ie(t,a),a&&d(e)}}}function ue(r){let e,i=r[7].name+"",t,n;return{c(){e=v("option"),t=Z(i),this.h()},l(a){e=g(a,"OPTION",{});var s=b(e);t=A(s,i),s.forEach(d),this.h()},h(){e.__value=n=r[7].name,e.value=e.__value},m(a,s){q(a,e,s),h(e,t)},p(a,s){s&4&&i!==(i=a[7].name+"")&&Ve(t,i),s&4&&n!==(n=a[7].name)&&(e.__value=n,e.value=e.__value)},d(a){a&&d(e)}}}function Pe(r){var Q,R,U,x;let e,i,t,n,a,s,f,o,E,O,p,c,P,I,H,$,V,y,B,F,D,N,G,J,m=!((Q=r[0])!=null&&Q.file_data)&&de(),_=((U=(R=r[2])==null?void 0:R.articles)==null?void 0:U.length)&&_e(r);function he(l){r[5](l)}let K={};return r[0].file_data!==void 0&&(K.value=r[0].file_data),p=new ye({props:K}),ge.push(()=>be(p,"value",he)),D=new $e({props:{source:((x=r[0])==null?void 0:x.file_data)||""}}),{c(){e=v("select"),m&&m.c(),i=Y(),_&&_.c(),n=W(),a=v("div"),s=v("div"),f=v("div"),o=v("h2"),E=Z("Editor"),O=W(),ae(p.$$.fragment),P=W(),I=v("div"),H=W(),$=v("div"),V=v("div"),y=v("h2"),B=Z("Viewer"),F=W(),ae(D.$$.fragment),this.h()},l(l){e=g(l,"SELECT",{class:!0});var u=b(e);m&&m.l(u),i=Y(),_&&_.l(u),u.forEach(d),n=X(l),a=g(l,"DIV",{class:!0});var w=b(a);s=g(w,"DIV",{class:!0});var T=b(s);f=g(T,"DIV",{class:!0});var S=b(f);o=g(S,"H2",{class:!0});var j=b(o);E=A(j,"Editor"),j.forEach(d),O=X(S),te(p.$$.fragment,S),S.forEach(d),T.forEach(d),P=X(w),I=g(w,"DIV",{class:!0}),b(I).forEach(d),H=X(w),$=g(w,"DIV",{class:!0});var z=b($);V=g(z,"DIV",{class:!0});var C=b(V);y=g(C,"H2",{class:!0});var L=b(y);B=A(L,"Viewer"),L.forEach(d),F=X(C),te(D.$$.fragment,C),C.forEach(d),z.forEach(d),w.forEach(d),this.h()},h(){var l,u;e.disabled=t=!((u=(l=r[2])==null?void 0:l.articles)!=null&&u.length),k(e,"class","select w-full max-w-xs"),r[1]===void 0&&we(()=>r[4].call(e)),k(o,"class","card-title"),M(o,"display","block",!1),k(f,"class","card-body"),k(s,"class","card card-compact w-96 bg-base-100 shadow-xl"),M(s,"width","100%",!1),k(I,"class","divider divider-horizontal"),k(y,"class","card-title"),M(y,"display","block",!1),k(V,"class","card-body"),k($,"class","card card-compact w-96 bg-base-100 shadow-xl"),M($,"width","100%",!1),k(a,"class","flex w-full lg:flex-row"),M(a,"justify-content","center",!1),M(a,"width","100%",!1),M(a,"height","100%",!1)},m(l,u){q(l,e,u),m&&m.m(e,null),h(e,i),_&&_.m(e,null),le(e,r[1]),q(l,n,u),q(l,a,u),h(a,s),h(s,f),h(f,o),h(o,E),h(f,O),se(p,f,null),h(a,P),h(a,I),h(a,H),h(a,$),h($,V),h(V,y),h(y,B),h(V,F),se(D,V,null),N=!0,G||(J=[ie(e,"change",r[4]),ie(e,"change",r[3])],G=!0)},p(l,[u]){var S,j,z,C,L,ee;(S=l[0])!=null&&S.file_data?m&&(m.d(1),m=null):m||(m=de(),m.c(),m.m(e,i)),(z=(j=l[2])==null?void 0:j.articles)!=null&&z.length?_?_.p(l,u):(_=_e(l),_.c(),_.m(e,null)):_&&(_.d(1),_=null),(!N||u&4&&t!==(t=!((L=(C=l[2])==null?void 0:C.articles)!=null&&L.length)))&&(e.disabled=t),u&6&&le(e,l[1]);const w={};!c&&u&1&&(c=!0,w.value=l[0].file_data,ke(()=>c=!1)),p.$set(w);const T={};u&1&&(T.source=((ee=l[0])==null?void 0:ee.file_data)||""),D.$set(T)},i(l){N||(re(p.$$.fragment,l),re(D.$$.fragment,l),N=!0)},o(l){oe(p.$$.fragment,l),oe(D.$$.fragment,l),N=!1},d(l){l&&d(e),m&&m.d(),_&&_.d(),l&&d(n),l&&d(a),ne(p),ne(D),G=!1,Ee(J)}}}function qe(r,e,i){var O,p;let t,n;ce(r,Me,c=>i(2,t=c)),ce(r,Ce,c=>i(6,n=c));let{data:a}=e,s=(p=(O=t==null?void 0:t.articles)==null?void 0:O.find(c=>c.path===n.url.searchParams.get("file_path")))==null?void 0:p.name;const f=()=>{var P,I;const c=(I=(P=t==null?void 0:t.articles)==null?void 0:P.find(H=>H.name===s))==null?void 0:I.path;c&&Se(`${Oe}/edit?file_path=${c}`)};function o(){s=De(this),i(1,s)}function E(c){r.$$.not_equal(a.file_data,c)&&(a.file_data=c,i(0,a))}return r.$$set=c=>{"data"in c&&i(0,a=c.data)},[a,s,t,f,o,E]}class Xe extends me{constructor(e){super(),pe(this,e,qe,Pe,ve,{data:0})}}export{Xe as default};
